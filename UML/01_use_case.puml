@startuml use_case
!theme plain
title TDMS DBMS - Use Case Diagram (Variant 58)

left to right direction
skinparam packageStyle rectangle
skinparam actorStyle awesome

actor "User" as user
actor "Google Drive" as gdrive

rectangle "TDMS Core Operations" {
  usecase "Create Database" as UC1
  usecase "Switch Database" as UC2
  usecase "Create Table" as UC3
  usecase "Drop Table" as UC4
  usecase "Insert Row" as UC5
  usecase "View Table Data" as UC6
  usecase "Union Tables" as UC7
  usecase "Validate Types" as UC8
}

rectangle "Data Persistence" {
  usecase "Save to Local JSON" as UC9
  usecase "Load from Local JSON" as UC10
  usecase "Save to Google Drive" as UC11
  usecase "Load from Google Drive" as UC12
  usecase "List Drive Files" as UC13
}

' User relationships
user --> UC1
user --> UC2
user --> UC3
user --> UC4
user --> UC5
user --> UC6
user --> UC7
user --> UC9
user --> UC10
user --> UC11
user --> UC12

' Google Drive relationships
gdrive <-- UC11 : <<upload>>
gdrive --> UC12 : <<download>>
gdrive --> UC13 : <<list>>

' Include relationships
UC5 ..> UC8 : <<include>>
UC7 ..> UC8 : <<include>>
UC3 ..> UC8 : <<include>>

' Extend relationships
UC11 ..> UC9 : <<extend>>
UC12 ..> UC10 : <<extend>>

note right of UC7
  Union operation (Variant 58)
  Combines tables with
  compatible schemas
end note

note bottom of UC8
  Supported types:
  - integer, real, char, string
  - date (YYYY-MM-DD)
  - dateInvl (intervals)
end note

@enduml