@startuml vopc_union
!theme plain
title Union Tables - How It Works (VOPC)

package "View (What user sees)" {
  class UserInterface {
    Select first table
    Select second table
    Click "Union" button
    See result
  }
}

package "Controller (Handles request)" {
  class UnionController {
    Get selected tables
    Validate compatibility
    Call union operation
    Show result
  }
}

package "Objects (Business logic)" {
  class Database {
    Find table by name
  }
  
  class Operations {
    Check if schemas match
    Combine all rows
    Create new table
  }
}

package "Persistence (Storage)" {
  class JSONStorage {
    Save result table
    Update database file
  }
}

UserInterface --> UnionController : user clicks union
UnionController --> Database : get tables
Database --> Operations : perform union
Operations --> JSONStorage : save result
JSONStorage --> UserInterface : show success

note bottom
  Variant #58 Special Operation:
  Union combines two tables
  into one result table
end note

@enduml